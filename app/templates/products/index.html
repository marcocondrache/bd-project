{% extends 'layouts/base.html' %}
{% import 'macros/pagination.html' as pagination %}
{% from 'macros/products.html' import products_list %}

{% block title %}Kepler Shop{% endblock %}

{% block content %}
    {% if paginated_products.items|length == 0 %}
        <div class="flex flex-col justify-center items-center h-full w-full gap-2">
            <box-icon name="store" size="lg" color="grey"></box-icon>
            <span>You don't have any product</span>
            <a href="{{ url_for('products.create_view') }}"
               class="mt-6 rounded-md bg-indigo-500 hover:bg-indigo-700
               transition-colors duration-250 h-10
               text-white text-xs font-semibold p-2
               flex items-center justify-center shadow-md">
                Add your first product!
            </a>
        </div>
    {% else %}
        <div class="flex flex-col h-[calc(100vh-4rem)]">
            <div class="text-2xl font-semibold px-4 flex items-center justify-between border-b h-20">
                Your products
                <a
                    @keydown.window="if (event.key === 'n') window.location.href = `{{ url_for('products.create_view') }}`;"
                    class="bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300
                    text-white font-medium rounded-lg text-sm px-4 py-2.5
                    flex justify-center items-center gap-2 shadow-lg transition-colors duration-250"
                    href="{{ url_for('products.create_view') }}">
                    <box-icon name='plus' color='white'></box-icon>
                    Add a new product
                </a>
            </div>

            {{ products_list(paginated_products.items, current_user) }}
            {{ pagination.render_pagination(paginated_products) }}
        </div>
    {% endif %}
{% endblock %}